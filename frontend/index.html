<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eFile Sathi - सरकारी दस्तावेज़ प्रबंधन</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&family=Noto+Sans+Devanagari:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <!-- Google Translate API -->
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'en,hi,ta,te,bn,mr,gu,kn,ml,pa,ur,or,as',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript"
        src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <style>
        /* Google Translate Custom Styling */
        .translate-wrapper {
            display: flex;
            align-items: center;
            margin-right: 12px;
        }

        .translate-wrapper .goog-te-gadget {
            font-family: inherit !important;
        }

        .translate-wrapper .goog-te-gadget-simple {
            background-color: transparent !important;
            border: 1.5px solid var(--primary-blue, #1a237e) !important;
            border-radius: 8px !important;
            padding: 6px 10px !important;
            font-size: 13px !important;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .translate-wrapper .goog-te-gadget-simple:hover {
            background-color: rgba(26, 35, 126, 0.1) !important;
            transform: translateY(-1px);
        }

        .translate-wrapper .goog-te-gadget-icon {
            display: none !important;
        }

        .translate-wrapper .goog-te-gadget-simple span {
            color: var(--text-primary, #1e1e1e) !important;
            font-weight: 500 !important;
        }

        .translate-wrapper .goog-te-gadget-simple span[style] {
            border: none !important;
        }

        /* Dark mode support */
        .dark-mode .translate-wrapper .goog-te-gadget-simple {
            border-color: #5c6bc0 !important;
        }

        .dark-mode .translate-wrapper .goog-te-gadget-simple span {
            color: #e0e0e0 !important;
        }

        .dark-mode .translate-wrapper .goog-te-gadget-simple:hover {
            background-color: rgba(92, 107, 192, 0.2) !important;
        }

        /* Hide Google branding */
        .goog-logo-link,
        .goog-te-gadget span[style="color: rgb(118, 118, 118);"] {
            display: none !important;
        }

        .goog-te-gadget {
            color: transparent !important;
        }

        /* Translate dropdown styling */
        .goog-te-menu-frame {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15) !important;
        }

        /* Top bar fix for Google Translate bar - only hide the banner, not the widget */
        body {
            top: 0 !important;
        }

        /* Hide the top notification banner but keep the dropdown visible */
        .goog-te-banner-frame.skiptranslate {
            display: none !important;
        }

        .goog-te-banner-frame {
            display: none !important;
        }

        /* Ensure the translate widget in the header is visible */
        .translate-wrapper .skiptranslate {
            display: block !important;
        }

        .translate-wrapper .goog-te-gadget {
            display: block !important;
        }

        .translate-wrapper .goog-te-gadget-simple {
            display: inline-block !important;
        }
    </style>
</head>

<body>
    <div class="app-container">
        <!-- Government Header Bar -->
        <div class="govt-header">
            <div class="govt-header-content">
                <span>भारत सरकार | Government of India</span>
                <span>Ministry of Electronics & IT | इलेक्ट्रॉनिक्स और सूचना प्रौद्योगिकी मंत्रालय</span>
            </div>
        </div>

        <!-- Main Header -->
        <header class="header">
            <div class="header-left">
                <div class="emblem">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Emblem_of_India.svg"
                        alt="Ashoka Emblem" onerror="this.style.display='none'">
                </div>
                <div class="brand">
                    <h1>eFile Sathi</h1>
                    <p class="subtitle">Intelligent Document Processing System</p>
                    <p class="subtitle-hindi">बुद्धिमान दस्तावेज़ प्रसंस्करण प्रणाली</p>
                </div>
            </div>
            <div class="header-right">
                <div class="header-stats">
                    <div class="stat-mini">
                        <span class="stat-num" id="docCount">0</span>
                        <span class="stat-label">Documents</span>
                    </div>
                    <div class="stat-mini">
                        <span class="stat-num" id="blockCount">1</span>
                        <span class="stat-label">Verified</span>
                    </div>
                </div>
                <!-- Google Translate Widget -->
                <div class="translate-wrapper" title="Translate Website">
                    <div id="google_translate_element"></div>
                </div>
                <button class="theme-toggle" id="themeToggle" title="Toggle Dark Mode">
                    <span class="theme-icon"><span class="icon" id="themeIconSvg"><svg viewBox="0 0 24 24">
                                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
                            </svg></span></span>
                </button>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="main-nav">
            <a href="#" class="nav-item active" data-section="home"><span class="icon"><svg viewBox="0 0 24 24">
                        <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z" />
                        <polyline points="9 22 9 12 15 12 15 22" />
                    </svg></span> Home</a>
            <a href="#" class="nav-item" data-section="upload"><span class="icon"><svg viewBox="0 0 24 24">
                        <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4" />
                        <polyline points="17 8 12 3 7 8" />
                        <line x1="12" y1="3" x2="12" y2="15" />
                    </svg></span> Upload</a>
            <a href="#" class="nav-item" data-section="search"><span class="icon"><svg viewBox="0 0 24 24">
                        <circle cx="11" cy="11" r="8" />
                        <line x1="21" y1="21" x2="16.65" y2="16.65" />
                    </svg></span> Search</a>
            <a href="#" class="nav-item" data-section="rti"><span class="icon"><svg viewBox="0 0 24 24">
                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                        <polyline points="22 6 12 13 2 6" />
                    </svg></span> RTI</a>
            <a href="#" class="nav-item" data-section="comparison"><span class="icon"><svg viewBox="0 0 24 24">
                        <rect x="3" y="3" width="7" height="9" />
                        <rect x="14" y="3" width="7" height="5" />
                        <rect x="14" y="12" width="7" height="9" />
                        <rect x="3" y="16" width="7" height="5" />
                    </svg></span> Compare</a>
            <a href="#" class="nav-item" data-section="workflow"><span class="icon"><svg viewBox="0 0 24 24">
                        <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2" />
                        <rect x="9" y="3" width="6" height="4" rx="1" />
                        <line x1="9" y1="12" x2="15" y2="12" />
                        <line x1="9" y1="16" x2="15" y2="16" />
                    </svg></span> Workflow</a>
            <a href="#" class="nav-item" data-section="grievance"><span class="icon"><svg viewBox="0 0 24 24">
                        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
                        <polyline points="14 2 14 8 20 8" />
                        <line x1="16" y1="13" x2="8" y2="13" />
                        <line x1="16" y1="17" x2="8" y2="17" />
                        <line x1="10" y1="9" x2="8" y2="9" />
                    </svg></span> Grievance</a>
            <a href="#" class="nav-item" data-section="compliance"><span class="icon"><svg viewBox="0 0 24 24">
                        <path d="M22 11.08V12a10 10 0 11-5.93-9.14" />
                        <polyline points="22 4 12 14.01 9 11.01" />
                    </svg></span> Compliance</a>
            <a href="#" class="nav-item" data-section="analytics"><span class="icon"><svg viewBox="0 0 24 24">
                        <line x1="18" y1="20" x2="18" y2="10" />
                        <line x1="12" y1="20" x2="12" y2="4" />
                        <line x1="6" y1="20" x2="6" y2="14" />
                    </svg></span> Analytics</a>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Welcome Banner -->
            <section class="welcome-banner" id="home-section">
                <div class="banner-content">
                    <h2>Welcome to eFile Sathi</h2>
                    <p>An initiative under Digital India to automate government document processing using Artificial
                        Intelligence.</p>
                    <p class="hindi-text">डिजिटल इंडिया के तहत सरकारी दस्तावेज़ प्रसंस्करण को स्वचालित करने की पहल।</p>
                </div>
                <div class="banner-features">
                    <div class="feature-item">
                        <span class="feature-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                    <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
                                    <polyline points="14 2 14 8 20 8" />
                                </svg></span></span>
                        <span class="feature-text">OCR in 15+ Languages</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                    <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
                                    <polyline points="14 2 14 8 20 8" />
                                    <line x1="16" y1="13" x2="8" y2="13" />
                                    <line x1="16" y1="17" x2="8" y2="17" />
                                    <line x1="10" y1="9" x2="8" y2="9" />
                                </svg></span></span>
                        <span class="feature-text">Auto Summarization</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                    <circle cx="11" cy="11" r="8" />
                                    <line x1="21" y1="21" x2="16.65" y2="16.65" />
                                </svg></span></span>
                        <span class="feature-text">Smart Search</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                    <path
                                        d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                                    <polyline points="22 6 12 13 2 6" />
                                </svg></span></span>
                        <span class="feature-text">RTI Response</span>
                    </div>
                </div>
            </section>

            <!-- Upload Section -->
            <section class="content-section" id="upload-section">
                <div class="section-header">
                    <h3>Upload Document / दस्तावेज़ अपलोड करें</h3>
                    <p>Upload government orders, circulars, or any official document for processing</p>
                </div>

                <div class="upload-area">
                    <div class="upload-box" id="uploadZone">
                        <input type="file" id="fileInput" accept=".pdf,.png,.jpg,.jpeg,.tiff" multiple hidden>
                        <div class="upload-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                    <path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z" />
                                </svg></span></div>
                        <p class="upload-text">Click to select or drag files here</p>
                        <p class="upload-hint">Supports multiple files: PDF, PNG, JPG (Max 50MB each)</p>
                    </div>
                    <div class="upload-status" id="uploadStatus"></div>

                    <!-- Multi-file Upload Queue -->
                    <div class="upload-queue" id="uploadQueue" style="display: none;">
                        <div class="upload-queue-header">
                            <span class="upload-queue-title"><span class="icon"><svg viewBox="0 0 24 24">
                                        <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2" />
                                        <rect x="9" y="3" width="6" height="4" rx="1" />
                                    </svg></span> Upload Queue</span>
                            <span class="upload-queue-count" id="queueCount">0</span>
                        </div>
                        <div class="upload-queue-list" id="queueList"></div>
                    </div>
                </div>

                <!-- Results Panel (Hidden initially) -->
                <div class="results-panel" id="resultsPanel" style="display: none;">
                    <div class="results-tabs">
                        <button class="result-tab active" data-tab="text">Extracted Text</button>
                        <button class="result-tab" data-tab="summary">Summary</button>
                        <button class="result-tab" data-tab="actions">Action Items</button>
                    </div>

                    <!-- Text Tab -->
                    <div class="result-content active" id="text-content">
                        <div class="text-stats" id="textStats"></div>
                        <div class="btn-group" id="downloadButtons" style="display: none;">
                            <button class="btn-secondary" id="downloadText" onclick="downloadText()">
                                <span class="icon"><svg viewBox="0 0 24 24">
                                        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
                                        <polyline points="14 2 14 8 20 8" />
                                    </svg></span> Download Text
                            </button>
                            <button class="btn-secondary" id="downloadPdf" onclick="downloadPDF()">
                                <span class="icon"><svg viewBox="0 0 24 24">
                                        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
                                        <polyline points="14 2 14 8 20 8" />
                                        <line x1="16" y1="13" x2="8" y2="13" />
                                        <line x1="16" y1="17" x2="8" y2="17" />
                                    </svg></span> Download PDF
                            </button>
                            <button class="btn-success" id="copyText" onclick="copyText()">
                                <span class="icon"><svg viewBox="0 0 24 24">
                                        <rect x="9" y="9" width="13" height="13" rx="2" />
                                        <path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1" />
                                    </svg></span> Copy to Clipboard
                            </button>
                        </div>
                        <div class="text-box" id="extractedText">
                            <p class="placeholder">Upload a document to see extracted text...</p>
                        </div>
                    </div>

                    <!-- Summary Tab -->
                    <div class="result-content" id="summary-content">
                        <div class="summary-options">
                            <label class="radio-option">
                                <input type="radio" name="summaryLevel" value="secretary" checked>
                                <span>Secretary Level (1 line)</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="summaryLevel" value="director">
                                <span>Director Level (1 para)</span>
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="summaryLevel" value="officer">
                                <span>Officer Level (Detailed)</span>
                            </label>
                        </div>
                        <div class="summary-box" id="summaryText">
                            <p class="placeholder">Summary will appear here after document upload...</p>
                        </div>
                    </div>

                    <!-- Actions Tab -->
                    <div class="result-content" id="actions-content">
                        <div class="actions-box" id="actionItems">
                            <p class="placeholder">Action items will be extracted automatically...</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Search Section -->
            <section class="content-section" id="search-section" style="display: none;">
                <div class="section-header">
                    <h3>Search Documents / दस्तावेज़ खोजें</h3>
                    <p>Search by meaning, not just keywords. Try: "recruitment freeze", "budget allocation"</p>
                </div>

                <div class="search-container">
                    <div class="search-input-group">
                        <input type="text" id="searchInput" placeholder="Enter search query...">
                        <button id="searchBtn" class="btn-primary">Search</button>
                    </div>
                </div>

                <div class="search-results" id="searchResults">
                    <p class="placeholder">Search results will appear here...</p>
                </div>
            </section>

            <!-- RTI Section -->
            <section class="content-section" id="rti-section" style="display: none;">
                <div class="section-header">
                    <h3>RTI Response Generator / आरटीआई प्रतिक्रिया</h3>
                    <p>Auto-generate formal RTI response letters with relevant documents</p>
                </div>

                <div class="rti-form">
                    <div class="form-group">
                        <label>RTI Query / आरटीआई प्रश्न</label>
                        <textarea id="rtiQuery" rows="4" placeholder="Enter the RTI request details..."></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Applicant Name</label>
                            <input type="text" id="rtiApplicant" placeholder="Shri/Smt. Name">
                        </div>
                        <div class="form-group">
                            <label>Response Type</label>
                            <select id="rtiType">
                                <option value="standard">Standard Disclosure</option>
                                <option value="partial_disclosure">Partial Disclosure</option>
                                <option value="transfer">Transfer to Other Dept.</option>
                            </select>
                        </div>
                    </div>
                    <button id="generateRti" class="btn-primary">Generate RTI Response</button>
                </div>

                <div class="rti-actions">
                    <button class="btn-secondary" onclick="printRTI()"><span class="icon"><svg viewBox="0 0 24 24">
                                <polyline points="6 9 6 2 18 2 18 9" />
                                <path d="M6 18H4a2 2 0 01-2-2v-5a2 2 0 012-2h16a2 2 0 012 2v5a2 2 0 01-2 2h-2" />
                                <rect x="6" y="14" width="12" height="8" />
                            </svg></span> Print Letter</button>
                    <button class="btn-secondary" onclick="downloadRTIPDF()"><span class="icon"><svg
                                viewBox="0 0 24 24">
                                <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4" />
                                <polyline points="7 10 12 15 17 10" />
                                <line x1="12" y1="15" x2="12" y2="3" />
                            </svg></span> Download PDF</button>
                </div>

                <div class="rti-output" id="rtiOutput">
                    <p class="placeholder">RTI response will be generated here...</p>
                </div>
            </section>

            <!-- Analytics Dashboard Section -->
            <section class="content-section" id="analytics-section" style="display: none;">
                <div class="section-header">
                    <h3>Analytics Dashboard / विश्लेषण डैशबोर्ड</h3>
                    <p>Monitor document processing statistics and system performance</p>
                </div>

                <!-- Stats Cards -->
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <div class="analytics-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                    <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
                                    <polyline points="14 2 14 8 20 8" />
                                </svg></span></div>
                        <div class="analytics-value" id="analyticsDocCount">0</div>
                        <div class="analytics-label">Documents Processed</div>
                    </div>
                    <div class="analytics-card">
                        <div class="analytics-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                    <rect x="3" y="11" width="4" height="10" rx="1" />
                                    <rect x="10" y="6" width="4" height="15" rx="1" />
                                    <rect x="17" y="3" width="4" height="18" rx="1" />
                                    <line x1="3" y1="6" x2="7" y2="6" />
                                    <line x1="10" y1="3" x2="14" y2="3" />
                                </svg></span></div>
                        <div class="analytics-value" id="analyticsBlockCount">0</div>
                        <div class="analytics-label">Blockchain Verified</div>
                    </div>
                    <div class="analytics-card">
                        <div class="analytics-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                    <circle cx="11" cy="11" r="8" />
                                    <line x1="21" y1="21" x2="16.65" y2="16.65" />
                                </svg></span></div>
                        <div class="analytics-value" id="analyticsSearchCount">0</div>
                        <div class="analytics-label">Searches Performed</div>
                    </div>
                    <div class="analytics-card">
                        <div class="analytics-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                    <path
                                        d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                                    <polyline points="22 6 12 13 2 6" />
                                </svg></span></div>
                        <div class="analytics-value" id="analyticsRTICount">0</div>
                        <div class="analytics-label">RTI Responses</div>
                    </div>
                </div>

                <!-- Charts -->
                <div class="chart-container">
                    <div class="chart-title">Document Categories</div>
                    <canvas id="categoryChart" height="200"></canvas>
                </div>

                <div class="chart-container">
                    <div class="chart-title">Processing Timeline (Last 7 Days)</div>
                    <canvas id="timelineChart" height="150"></canvas>
                </div>
            </section>

            <!-- Document Comparison Section -->
            <section class="content-section" id="comparison-section" style="display: none;">
                <div class="section-header">
                    <h3>Document Comparison / दस्तावेज़ तुलना</h3>
                    <p>Compare two documents to identify changes, additions, and modifications</p>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Document 1 (Original)</label>
                        <div class="upload-box" id="compareDoc1Zone" style="padding: 20px;">
                            <input type="file" id="compareDoc1" accept=".pdf,.png,.jpg,.jpeg,.tiff" hidden>
                            <div class="upload-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
                                        <polyline points="14 2 14 8 20 8" />
                                    </svg></span></div>
                            <p class="upload-text">Upload first document</p>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Document 2 (Updated)</label>
                        <div class="upload-box" id="compareDoc2Zone" style="padding: 20px;">
                            <input type="file" id="compareDoc2" accept=".pdf,.png,.jpg,.jpeg,.tiff" hidden>
                            <div class="upload-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
                                        <polyline points="14 2 14 8 20 8" />
                                    </svg></span></div>
                            <p class="upload-text">Upload second document</p>
                        </div>
                    </div>
                </div>

                <button class="btn-primary" id="compareDocsBtn" style="margin-top: 16px;"><span class="icon"><svg
                            viewBox="0 0 24 24">
                            <circle cx="11" cy="11" r="8" />
                            <line x1="21" y1="21" x2="16.65" y2="16.65" />
                        </svg></span> Compare Documents</button>

                <div class="comparison-panel" id="comparisonResults" style="display: none;">
                    <div class="comparison-doc">
                        <h5><span class="icon"><svg viewBox="0 0 24 24">
                                    <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
                                    <polyline points="14 2 14 8 20 8" />
                                </svg></span> Original Document</h5>
                        <div id="comparisonDoc1Content"></div>
                    </div>
                    <div class="comparison-doc">
                        <h5><span class="icon"><svg viewBox="0 0 24 24">
                                    <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
                                    <polyline points="14 2 14 8 20 8" />
                                </svg></span> Updated Document</h5>
                        <div id="comparisonDoc2Content"></div>
                    </div>
                </div>
            </section>

            <!-- Workflow Tracker Section -->
            <section class="content-section" id="workflow-section" style="display: none;">
                <div class="section-header">
                    <h3>Document Workflow Tracker / दस्तावेज़ प्रवाह ट्रैकर</h3>
                    <p>Track document status through the approval chain</p>
                </div>

                <div class="search-input-group" style="margin-bottom: 20px;">
                    <input type="text" id="workflowDocId" placeholder="Enter Document ID (e.g., DOC-2024-0001)">
                    <button id="trackWorkflowBtn" class="btn-primary"><span class="icon"><svg viewBox="0 0 24 24">
                                <circle cx="11" cy="11" r="8" />
                                <line x1="21" y1="21" x2="16.65" y2="16.65" />
                            </svg></span> Track</button>
                </div>

                <div class="workflow-tracker" id="workflowDisplay">
                    <h4 style="margin-bottom: 16px; color: var(--primary-blue);"><span class="icon"><svg
                                viewBox="0 0 24 24">
                                <path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2" />
                                <rect x="9" y="3" width="6" height="4" rx="1" />
                            </svg></span> Document Status Timeline</h4>
                    <div class="workflow-timeline">
                        <div class="workflow-step completed">
                            <div class="workflow-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                        <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4" />
                                        <polyline points="17 8 12 3 7 8" />
                                        <line x1="12" y1="3" x2="12" y2="15" />
                                    </svg></span></div>
                            <div class="workflow-label">Submitted</div>
                        </div>
                        <div class="workflow-step completed">
                            <div class="workflow-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
                                        <circle cx="12" cy="12" r="3" />
                                    </svg></span></div>
                            <div class="workflow-label">Under Review</div>
                        </div>
                        <div class="workflow-step current">
                            <div class="workflow-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                        <path d="M17 3a2.828 2.828 0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z" />
                                    </svg></span></div>
                            <div class="workflow-label">Pending Approval</div>
                        </div>
                        <div class="workflow-step pending">
                            <div class="workflow-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                        <path d="M22 11.08V12a10 10 0 11-5.93-9.14" />
                                        <polyline points="22 4 12 14.01 9 11.01" />
                                    </svg></span></div>
                            <div class="workflow-label">Approved</div>
                        </div>
                        <div class="workflow-step pending">
                            <div class="workflow-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                        <path
                                            d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z" />
                                    </svg></span></div>
                            <div class="workflow-label">Archived</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Grievance Tracking Section -->
            <section class="content-section" id="grievance-section" style="display: none;">
                <div class="section-header">
                    <h3>Grievance Tracker / शिकायत ट्रैकर</h3>
                    <p>Track and manage citizen grievances from documents</p>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Grievance Subject</label>
                        <input type="text" id="grievanceSubject" placeholder="Brief description of grievance">
                    </div>
                    <div class="form-group">
                        <label>Priority</label>
                        <select id="grievancePriority">
                            <option value="normal">Normal</option>
                            <option value="high">High Priority</option>
                            <option value="urgent">Urgent</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>Grievance Details</label>
                    <textarea id="grievanceDetails" rows="3" placeholder="Detailed description..."></textarea>
                </div>
                <button class="btn-primary" id="submitGrievanceBtn"><span class="icon"><svg viewBox="0 0 24 24">
                            <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
                            <polyline points="14 2 14 8 20 8" />
                            <line x1="16" y1="13" x2="8" y2="13" />
                            <line x1="16" y1="17" x2="8" y2="17" />
                            <line x1="10" y1="9" x2="8" y2="9" />
                        </svg></span> Register Grievance</button>

                <h4 style="margin-top: 24px; margin-bottom: 12px; color: var(--primary-blue);">Recent Grievances</h4>
                <div id="grievanceList">
                    <div class="grievance-card urgent">
                        <div class="grievance-header">
                            <span class="grievance-id">GRV-2024-0042</span>
                            <span class="grievance-status pending">Pending</span>
                        </div>
                        <div class="grievance-subject">Delay in pension disbursement</div>
                        <div class="grievance-date"><span class="icon"><svg viewBox="0 0 24 24">
                                    <rect x="3" y="4" width="18" height="18" rx="2" />
                                    <line x1="16" y1="2" x2="16" y2="6" />
                                    <line x1="8" y1="2" x2="8" y2="6" />
                                    <line x1="3" y1="10" x2="21" y2="10" />
                                </svg></span> Submitted: 28 Dec 2024 | <span class="icon"><svg viewBox="0 0 24 24">
                                    <circle cx="12" cy="12" r="10" />
                                    <polyline points="12 6 12 12 16 14" />
                                </svg></span> Due: 05 Jan 2025</div>
                    </div>
                    <div class="grievance-card">
                        <div class="grievance-header">
                            <span class="grievance-id">GRV-2024-0039</span>
                            <span class="grievance-status processing">In Progress</span>
                        </div>
                        <div class="grievance-subject">Request for ration card correction</div>
                        <div class="grievance-date"><span class="icon"><svg viewBox="0 0 24 24">
                                    <rect x="3" y="4" width="18" height="18" rx="2" />
                                    <line x1="16" y1="2" x2="16" y2="6" />
                                    <line x1="8" y1="2" x2="8" y2="6" />
                                    <line x1="3" y1="10" x2="21" y2="10" />
                                </svg></span> Submitted: 25 Dec 2024 | <span class="icon"><svg viewBox="0 0 24 24">
                                    <circle cx="12" cy="12" r="10" />
                                    <polyline points="12 6 12 12 16 14" />
                                </svg></span> Due: 08 Jan 2025</div>
                    </div>
                    <div class="grievance-card resolved">
                        <div class="grievance-header">
                            <span class="grievance-id">GRV-2024-0035</span>
                            <span class="grievance-status resolved">Resolved</span>
                        </div>
                        <div class="grievance-subject">Property tax assessment query</div>
                        <div class="grievance-date"><span class="icon"><svg viewBox="0 0 24 24">
                                    <rect x="3" y="4" width="18" height="18" rx="2" />
                                    <line x1="16" y1="2" x2="16" y2="6" />
                                    <line x1="8" y1="2" x2="8" y2="6" />
                                    <line x1="3" y1="10" x2="21" y2="10" />
                                </svg></span> Submitted: 20 Dec 2024 | <span class="icon icon-success"><svg
                                    viewBox="0 0 24 24">
                                    <path d="M22 11.08V12a10 10 0 11-5.93-9.14" />
                                    <polyline points="22 4 12 14.01 9 11.01" />
                                </svg></span> Resolved: 26 Dec 2024</div>
                    </div>
                </div>
            </section>

            <!-- Compliance Check Section -->
            <section class="content-section" id="compliance-section" style="display: none;">
                <div class="section-header">
                    <h3>Document Compliance Checker / अनुपालन जाँच</h3>
                    <p>Verify document compliance with government standards</p>
                </div>

                <div class="upload-box" id="complianceUploadZone">
                    <input type="file" id="complianceFileInput" accept=".pdf,.png,.jpg,.jpeg,.tiff" hidden>
                    <div class="upload-icon"><span class="icon"><svg viewBox="0 0 24 24">
                                <circle cx="11" cy="11" r="8" />
                                <line x1="21" y1="21" x2="16.65" y2="16.65" />
                            </svg></span></div>
                    <p class="upload-text">Upload document for compliance check</p>
                    <p class="upload-hint">We'll check for mandatory fields, format standards, and completeness</p>
                </div>

                <div id="complianceResults" style="display: none;">
                    <div class="compliance-score">
                        <div class="compliance-meter" id="complianceMeter">
                            <svg width="80" height="80">
                                <circle class="bg" cx="40" cy="40" r="34"></circle>
                                <circle class="progress" cx="40" cy="40" r="34" stroke-dasharray="0 214"
                                    id="complianceProgress"></circle>
                            </svg>
                            <div class="compliance-value" id="complianceValue">0%</div>
                        </div>
                        <div class="compliance-details">
                            <h5>Compliance Report</h5>
                            <div id="complianceChecklist">
                                <!-- Checklist items will be inserted here -->
                            </div>
                        </div>
                    </div>

                    <div class="esign-badge pending" id="esignStatus" style="margin-top: 16px;">
                        <span class="icon"><svg viewBox="0 0 24 24">
                                <rect x="3" y="11" width="18" height="11" rx="2" />
                                <path d="M7 11V7a5 5 0 0110 0v4" />
                            </svg></span> Digital Signature: Not Verified
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-left">
                    <p><strong>eFile Sathi</strong> - A Digital India Initiative</p>
                    <p>Developed for Government of India | © 2024-25</p>
                </div>
                <div class="footer-right">
                    <p>Potential Impact: <strong>₹360 Crore</strong> annual savings</p>
                    <p>Processing 500+ departments nationwide</p>
                </div>
            </div>
            <div class="footer-bottom">
                <span>NIC | राष्ट्रीय सूचना विज्ञान केन्द्र</span>
            </div>
        </footer>
    </div>

    <!-- Voice Control Button -->
    <div class="voice-control">
        <button class="voice-btn" id="voiceBtn" title="Voice Command (Click to speak)">
            <span class="icon"><svg viewBox="0 0 24 24">
                    <path d="M12 1a3 3 0 00-3 3v8a3 3 0 006 0V4a3 3 0 00-3-3z" />
                    <path d="M19 10v2a7 7 0 01-14 0v-2" />
                    <line x1="12" y1="19" x2="12" y2="23" />
                    <line x1="8" y1="23" x2="16" y2="23" />
                </svg></span>
        </button>
    </div>

    <!-- Chatbot Widget -->
    <div class="chatbot-widget">
        <div class="chatbot-panel" id="chatbotPanel">
            <div class="chatbot-header">
                <div>
                    <h4><span class="icon"><svg viewBox="0 0 24 24">
                                <rect x="3" y="3" width="18" height="18" rx="2" />
                                <circle cx="9" cy="10" r="2" />
                                <circle cx="15" cy="10" r="2" />
                                <path d="M8 15h8" />
                            </svg></span> Document Assistant</h4>
                    <span>Ask questions about your documents</span>
                </div>
                <button class="chatbot-close" id="chatbotClose">×</button>
            </div>
            <div class="chatbot-messages" id="chatMessages">
                <div class="chat-message bot">
                    नमस्ते! I'm your Document Assistant. Ask me anything about your uploaded documents or government
                    processes.
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatInput" placeholder="Type your question in Hindi or English...">
                <button id="chatSendBtn"><span class="icon"><svg viewBox="0 0 24 24">
                            <line x1="22" y1="2" x2="11" y2="13" />
                            <polygon points="22 2 15 22 11 13 2 9 22 2" />
                        </svg></span></button>
            </div>
        </div>
        <button class="chatbot-toggle" id="chatbotToggle" title="Chat with Document AI">
            <span class="icon"><svg viewBox="0 0 24 24">
                    <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z" />
                </svg></span>
        </button>
    </div>

    <script src="/static/app.js"></script>

    <!-- Toast Notifications Container -->
    <div class="toast-container" id="toastContainer"></div>
</body>

</html>